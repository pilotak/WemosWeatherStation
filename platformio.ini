[platformio]
env_default = WemosWeatherStation
src_dir = WemosWeatherStation

[common]
build_flags =
  '-D DEBUG'
  '-D HTTP_OTA'
  '-D ARDUINO_OTA' 
  '-D WM_ADC_RESOLUTION=1024'
  '-D WIFI_MANAGER_MAX_PARAMS=6'
lib_deps =
  Wire
  SPI
  ArduinoJson
  https://github.com/tzapu/WiFiManager.git#4873c7c6326fcbfb069731035b1ed79ebd11746a
  AsyncMqttClient
  JC_Button
  MovingAverageFloat
  MeteoFunctions

[env:WemosWeatherStation]
platform = espressif8266
board = d1_mini
framework = arduino
build_flags =
  ${common.build_flags}
  '-D SENSOR_MCP9808'
  '-D SENSOR_BMP280'
  '-D SENSOR_HTU21D'
  '-D HAS_METERS'
lib_deps =
  ${common.lib_deps}
  https://github.com/adafruit/Adafruit_MCP9808_Library
  BME280
  HTU21D
  WeatherMeters@^2.0.0
  MCP3X21

[env:WemosWeatherStation_no_meters]
platform = espressif8266
board = d1_mini
framework = arduino
build_flags =
  ${common.build_flags}
  '-D SENSOR_MCP9808'
  '-D SENSOR_BMP280'
  '-D SENSOR_HTU21D'
lib_deps =
  ${common.lib_deps}
  https://github.com/adafruit/Adafruit_MCP9808_Library
  BME280
  HTU21D

[env:WemosWeatherStation_v2]
platform = espressif8266
board = d1_mini
framework = arduino
build_flags =
  ${common.build_flags}
  '-D SENSOR_LPS35HW'
  '-D SENSOR_SHT31'
  '-D HAS_METERS'
lib_deps =
  ${common.lib_deps}
  LPS35HW
  https://github.com/pilotak/ClosedCube_SHT31D_Arduino
  WeatherMeters@^2.0.0
  MCP3X21
